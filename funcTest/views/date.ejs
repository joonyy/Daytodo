<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <title>date</title>
</head>
<body>
  <h2> <%= year %> 년 <%= month %> 월 <%= date %> 일 </h2>
  <form id="todoForm">
    <input type="text" id="todoNameInput" placeholder="할 일을 입력하세요" required>
    <input type="text" id="todoDescriptionInput" placeholder="상세 내용을 입력하세요">
    <button type="button" onclick="addTodo()">추가</button>
  </form>


  <ul id="todoList">
    <!-- 할 일 목록이 여기에 표시됩니다. -->
    <% for (let i = 0; i < res.length; i++) { %>
      <li><%= res[i].todo_name %> - <%= res[i].todo_details %></li>
    <% } %>
  </ul>

  <script>    
    const addTodo = () => {
      // 입력된 할 일 및 상세 내용 가져오기
      var todoNameInput = document.getElementById("todoNameInput").value;
      var todoDescriptionInput = document.getElementById("todoDescriptionInput").value;
      
      // 필수 입력 필드인 할 일 입력 값이 비어 있는지 확인
      if (!todoNameInput) {
        alert("할 일을 입력해주세요.");
        return;
      }
      
      // 할 일 목록에 추가
      var todoList = document.getElementById("todoList");
      var li = document.createElement("li");
      li.textContent = todoNameInput + " - " + todoDescriptionInput;
      todoList.appendChild(li);
      
      // 입력 필드 초기화
      document.getElementById("todoNameInput").value = "";
      document.getElementById("todoDescriptionInput").value = "";
      
      // Axios를 사용하여 POST 요청 보내기
    }
  </script>
</body>
</html>
